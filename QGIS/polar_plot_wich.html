<head><meta charset="utf-8" /><script src=https://cdn.plot.ly/plotly-1.34.0.min.js></script><script src="file:///C:/Users/cgernon/AppData/Roaming/QGIS/QGIS3/profiles/default/python/plugins/DataPlotly/jsscripts/plotly-1.34.0.min.js"></script></head><div id="94ec9aab-4281-4825-ad5d-148054a6132d" style="height: 100%; width: 100%;" class="plotly-graph-div"></div><script type="text/javascript">window.PLOTLYENV=window.PLOTLYENV || {};window.PLOTLYENV.BASE_URL="https://plot.ly";Plotly.newPlot("94ec9aab-4281-4825-ad5d-148054a6132d", [{"line": {"color": "#8ebad9", "dash": "solid", "width": 1.0}, "marker": {"color": "#8ebad9", "line": {"color": "#1f77b4", "width": 1.0}, "size": 5.000000000000004, "symbol": 0}, "mode": "markers", "name": "Median Gross Rent", "opacity": 1.0, "r": [975, 721, 901, 685, 756, 807, 915, 1145, 811, 1038, 1062, 954, 988, 892, 887, 672, 568, 787, 819, 968, 658, 588, 770, 737, 709, 766, 1061, 537, 569, 906, 686, 804, 727, 718, 681, 799, 1021, 882, 926, 746, 1028, 718, 588, 690, 736, 599, 819, 757, 753, 575, 733, 805, 842, 823, 567, 787, 860, 768, 836, 831, 762, 1559, 1800, 693, 997, 867, 716, 686, 721, 988, 747, 596, 638, 708, 674, 1072, 970, 669, 992, 637, 762, 751, 826, 666, 1301, 589, 668, 722, 1089, 832, 783, 837, 1178, 1395, 695, 850, 680, 936, 1313, 1051, 943, 544, 732, 698, 705, 688, 525, 715, 780, 715, 1115, 659, 541, 706, 967, 1393, 1326, 968, 1434, 836, 700, 625, 967, 963, 733, 871, 622, 569, 834, 649, 638, 1341, 819, 1232, 683, 1734, 1202, 681, 1049, 822, 780, 752, 867, 785, 685, 901, 730, 829, 731], "theta": [336.2969187312623, 287.6392321596136, 271.1029927434009, 3.892991847334479, 290.8896706510384, 237.57599217735176, 355.9998629336119, 0.7187108256846755, 351.1396253358831, 294.96353295165403, 297.11314561978963, 182.8405936328728, 1.8015614680622667, 297.3405392975242, 311.9000521409574, 325.3443890179496, 313.28937177384165, 294.1051472310842, 308.7060940891263, 225.05323833655854, 288.47223230934935, 275.85162278179297, 4.803528634662895, 2.1041171598012594, 306.92566582142274, 294.0947986192725, 55.685193045561846, 60.60347806359065, 305.2195037533504, 333.0760936295458, 318.7654697200111, 319.48284699400324, 14.936433059523294, 288.3120638871257, 301.4474453654907, 310.82356918995595, 289.1477241469764, 357.65250137265684, 355.01449280794407, 290.2291799229429, 269.7787220750857, 342.65469291615454, 79.39165642784336, 321.9855208150238, 58.8440534343784, 328.1844249876284, 334.32733952185174, 305.0747030879691, 294.8253965916243, 298.293141737961, 303.89459206672814, 230.1213194803586, 251.96117025978018, 292.1951294925654, 301.9703379417719, 12.232592739405947, 303.6779608409667, 276.0979883662907, 73.51523055587012, 127.97850486595311, 286.17731755087823, 288.2481001541468, 279.6087741732936, 220.72954037370462, 165.2107952817733, 336.2920175303065, 256.20756105250456, 195.1617775645199, 336.78718006095784, 338.71267262771147, 332.67934373278837, 342.0722343706515, 344.87680742442035, 344.37469355198596, 221.36549514921813, 304.8037239125129, 229.81579274686223, 318.6358484141415, 28.3588526617435, 281.245598714415, 270.7038113179746, 253.76729099642714, 247.7869164791432, 115.62244664884246, 48.90798183088831, 313.69492369153636, 333.62491411039645, 298.0657716236914, 327.34911255443325, 313.68583372353976, 63.27076524196147, 277.80363353360684, 290.7240695782838, 293.1183676906683, 317.8639249121065, 296.9241607188517, 321.30195961260034, 192.34620031904237, 58.3581278188612, 58.40874961797257, 4.919888141101507, 297.98561536420914, 292.00556317158686, 286.4691473610161, 313.30505429911517, 282.71106553142084, 180.16741057572557, 0.6271827556825131, 34.92185139525536, 97.23099128770932, 353.9909585102699, 176.80422220877523, 206.83422253995775, 56.107419890147014, 277.1575892148362, 278.3620295325011, 277.6927349501531, 253.9867641713084, 27.827292233118587, 314.7091428098046, 273.98295690562605, 346.8438664113012, 339.473363917166, 301.648089919376, 351.5304425627645, 343.61620560715704, 316.27040313448697, 278.4827135669022, 265.3098877748794, 344.2211054136213, 289.9069523278567, 263.16542957520244, 137.52078499268498, 9.897988994603844, 202.75873672584132, 51.752327786217364, 65.54767151765816, 329.4942761374931, 284.8420807222403, 201.492745345218, 309.8835223612989, 225.22837730144278, 322.27735077133127, 295.2496631075565, 322.2351414119442, 226.763065524171, 68.86456875203686, 323.36460747055406, 345.7949596459447], "type": "scatterpolar", "uid": "49046eac-1bb7-11ea-8ef4-e4b97af7376c"}], {"legend": {"orientation": "v"}, "polar": {"angularaxis": {"direction": "clockwise"}}, "showlegend": true, "title": "Direction from CBD on Rent Value", "xaxis": {"autorange": true, "title": "cbdDir", "type": "linear"}, "yaxis": {"autorange": true, "title": "ACS_17_5YR_B25064_HD01_VD01", "type": "linear"}}, {"editable": true, "scrollZoom": true, "showLink": false, "linkText": "Export to plot.ly"})</script>
        <script>
        // additional js function to select and click on the data
        // returns the ids of the selected/clicked feature

        var plotly_div = document.getElementById('94ec9aab-4281-4825-ad5d-148054a6132d')
        var plotly_data = plotly_div.data

        // selecting function
        plotly_div.on('plotly_selected', function(data){
        var dds = {};
        dds["mode"] = 'selection'
        dds["type"] = data.points[0].data.type

        featureIds = [];
        featureIdsTernary = [];

        data.points.forEach(function(pt){
        featureIds.push(parseInt(pt.id))
        featureIdsTernary.push(parseInt(pt.pointNumber))
        dds["id"] = featureIds
        dds["tid"] = featureIdsTernary
            })
        //console.log(dds)
        window.status = JSON.stringify(dds)
        })

        // clicking function
        plotly_div.on('plotly_click', function(data){
        var featureIds = [];
        var dd = {};
        dd["fidd"] = data.points[0].id
        dd["mode"] = 'clicking'

        // loop and create dictionary depending on plot type
        for(var i=0; i < data.points.length; i++){

        // scatter plot
        if(data.points[i].data.type == 'scatter'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type

            data.points.forEach(function(pt){
            dd["fid"] = pt.id
            })
        }

        // pie

        else if(data.points[i].data.type == 'pie'){
          dd["type"] = data.points[i].data.type
          dd["label"] = data.points[i].label
          dd["field"] = data.points[i].data.name
          console.log(data.points[i].label)
          console.log(data.points[i])
        }

        // histogram
        else if(data.points[i].data.type == 'histogram'){
            dd["type"] = data.points[i].data.type
            dd["uid"] = data.points[i].data.uid
            dd["field"] = data.points[i].data.name

            // correct axis orientation
            if(data.points[i].data.orientation == 'v'){
                dd["id"] = data.points[i].x
                dd["bin_step"] = data.points[i].data.xbins.size
            }
            else {
                dd["id"] = data.points[i].y
                dd["bin_step"] = data.points[i].data.ybins.size
            }
        }

        // box plot
        else if(data.points[i].data.type == 'box'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // violin plot
        else if(data.points[i].data.type == 'violin'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation (for violin is viceversa)
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // bar plot
        else if(data.points[i].data.type == 'bar'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // ternary
        else if(data.points[i].data.type == 'scatterternary'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata
            dd["fid"] = data.points[i].pointNumber
            }

            }
        window.status = JSON.stringify(dd)
        });
        </script>